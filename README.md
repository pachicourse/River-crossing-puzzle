# River-crossing-puzzle
<p>Maudeで川渡り問題の解法を出力するプログラム。</p>
<p>構成要素は狼(W)、羊(S)、キャベツ(C)、ボート乗りである「あなた」(Y)</p>
<br />
<p>以下ネタバレ</p>
<p>1.羊を対岸へ渡す<br />2.元の岸に一人で戻る<br />3.狼を対岸へ渡す<br />4.羊と元の岸に戻る<br />5.キャベツを対岸へ渡す(は置いていく)<br />6.元の岸に一人で戻る<br />7.羊を対岸へ渡す<br /></p>
<br />
<p>以下、課題の時に書いたレポート文</p>
<p>・解への考え方及びコードの説明</p>
<p>今回は、元の岸と対岸をそれぞれ、左(left)、右(right)と表現し、羊、狼、キャベツ、
そして「あなた」に、括弧書きでどちらの岸に位置するかを記述する。また、各要素は、 {}によって括られ、一つのまとまりとして書き換え規則を適用できるようにした。
「あなた」はボートに羊や狼、キャベツを乗せて反対の岸に渡る。ボートの上及び、別 の岸へ渡った直後は、「あなた」は「あなた」が乗せた要素と、辿り着いた岸にいる要素と 一緒にいることになる。ボートを動かせるのは「あなた」しかおらず、また、別の岸への 移動は、途中で川の上などに停止することなく、一息で行われる。これはすなわち、要素 を乗せて別の岸に渡る際には、「あなた」は必ず乗せた要素と一緒に向こうの岸にたどり着 くことを表しており、その過程であるボートという領域は、パズルを解く際において省略 可能であることを示している。</p>
<p>今回は、対岸に渡ることを表す等式である change()を定義した。change()は、Side を 渡し、戻り値にその逆の Side を返すシンプルな等式である。
次に、書き換えの条件を考える。このパズルの失敗条件は、「あなたがおらず、かつ狼と 羊だけが同じ岸にいるとき」「あなたがおらず、かつ羊とキャベツだけが同じ岸にいるとき」 である。したがって、各要素が持つ Side を比較し、失敗条件を満たすものを true として 返す条件付き等式 Failed()を定義し、書き換え条件に利用した。</p>
<p>今回、問題の解答者が取れる行動は、「一人で別の岸に渡る」「羊を連れて別の岸へ渡る」 「狼を連れて別の岸へ渡る」「キャベツを連れて別の岸へ渡る」の 4 つであり、この中で、 問題が起こる可能性のある行動は、「羊を連れて別の岸へ渡る」ものだけである。理由は、 羊を連れて別の岸へ渡る場合、渡る先に狼やキャベツがいたとしても、「あなた」も一緒に いるので、その行動の直後になんらかの問題が起こることはない。元いた岸にキャベツや 狼、または何もいなかったとしても問題はない。羊以外のものを連れた場合には、取り残 された岸にキャベツと羊だけ、もしくは狼と羊だけの組み合わせが存在する可能性があり、 その場合には失敗条件を満たすことになる。これらの行動による書き換えには、問題が起 こらないかどうかをチェックする必要があるので、定義した Failed()を用いてチェックす る。Failed()に渡す引数は、移動後の各要素の状態を、change()を用いて表したものを使 用し、移動した結果、問題のある配置になるかどうかを検査した上で、問題がない場合の み書き換えを行うようにしている。</p>
